---
import Layout from "@/layouts/Layout.astro";
---

<Layout title="Eliminar Cuenta | Novicompu">
  <section class="pt-28 pb-20 min-h-[60vh] bg-gray-50" aria-labelledby="delete-heading">
    <div class="max-w-xl mx-auto px-5">
      <h1 id="delete-heading" class="text-3xl font-bold text-gray-900">Eliminar tu cuenta de Novicompu</h1>
      <p class="mt-4 text-sm text-gray-600 leading-relaxed">Esta página oficial permite solicitar la eliminación de tu cuenta registrada en la aplicación <strong>Novicompu</strong> (desarrollador: <strong>Novicompu</strong>) publicada en Google Play. Lee atentamente el proceso, los datos que se eliminan y los que debemos conservar por obligaciones legales.</p>

      <div class="mt-6 bg-white border border-gray-100 rounded-lg p-5 space-y-4 text-sm text-gray-700">
        <h2 class="text-base font-semibold text-gray-900">Pasos para solicitar la eliminación</h2>
        <ol class="list-decimal ms-5 space-y-2">
          <li>Completa el formulario inferior con el <span class="font-medium">correo asociado</span> a tu cuenta (y opcionalmente tu ID si lo conoces).</li>
          <li>Confirma la casilla de consentimiento y envía la solicitud.</li>
          <li>Recibirás un correo automático de confirmación de recepción.</li>
          <li>Validaremos la titularidad y procesaremos la eliminación en un máximo de <span class="font-medium">7 días hábiles</span>.</li>
          <li>Cuando el proceso finalice, enviaremos un correo final indicando que la cuenta fue eliminada.</li>
        </ol>
        <p class="text-xs text-gray-500">Si falta información o necesitamos verificar identidad, podríamos solicitar documentación adicional.</p>
      </div>

      <div class="mt-6 bg-white border border-gray-100 rounded-lg p-5 space-y-4 text-sm text-gray-700">
        <h2 class="text-base font-semibold text-gray-900">Datos que se eliminan</h2>
        <ul class="list-disc ms-5 space-y-1">
          <li>Datos de perfil (nombre, alias, avatar).</li>
          <li>Credenciales asociadas (hash de contraseña, tokens de sesión activos).</li>
          <li>Preferencias de notificaciones y configuraciones personales.</li>
          <li>Direcciones de envío guardadas si no están vinculadas a pedidos pendientes.</li>
        </ul>
        <h3 class="text-sm font-semibold text-gray-900 pt-2">Datos que debemos conservar temporalmente</h3>
        <ul class="list-disc ms-5 space-y-1">
          <li><span class="font-medium">Historial de pedidos y facturación</span>: Conservado por obligaciones tributarias hasta 5 años (Art. normativa fiscal Ecuador).</li>
          <li><span class="font-medium">Registros antifraude y seguridad</span>: Conservados hasta 180 días para investigación de uso indebido.</li>
          <li><span class="font-medium">Logs de acceso</span>: Pseudonimizados y rotados en un máximo de 90 días.</li>
        </ul>
        <p class="text-xs text-gray-500">Los datos retenidos se aíslan, dejan de ser visibles en la app y sólo se usan para cumplimiento legal, auditorías o seguridad.</p>
      </div>

      <div class="mt-6 bg-white border border-gray-100 rounded-lg p-5 space-y-3 text-sm text-gray-700">
        <h2 class="text-base font-semibold text-gray-900">Tiempo de procesamiento</h2>
        <p>Procesamos la eliminación completa en un plazo máximo de <strong>7 días hábiles</strong>. En casos excepcionales (auditorías o requerimientos legales) podríamos extender la fase final de purga, manteniendo tu cuenta suspendida.</p>
      </div>

      <form id="delete-account-form" name="eliminar-cuenta" data-netlify="true" netlify-honeypot="bot-field" class="mt-8 space-y-6 bg-white p-6 rounded-lg shadow-sm border border-gray-100" method="POST" action="/eliminar-cuenta-exito" novalidate>
        <input type="hidden" name="form-name" value="eliminar-cuenta" />
        <p class="hidden">
          <label>No llenar: <input name="bot-field" /></label>
        </p>
        <div class="space-y-1">
          <label for="email" class="block text-sm font-medium text-gray-800">Correo electrónico <span class="text-red-600">*</span></label>
          <input id="email" name="email" type="email" required placeholder="tu@correo.com" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#264193] focus:border-[#264193]" />
          <p class="text-xs text-gray-500">Debe coincidir con el correo registrado.</p>
        </div>

        <div class="space-y-1">
          <label for="userId" class="block text-sm font-medium text-gray-800">ID de usuario (opcional)</label>
          <input id="userId" name="userId" type="text" placeholder="Ej: 12345" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#264193] focus:border-[#264193]" />
        </div>

        <div class="space-y-1">
          <label for="motivo" class="block text-sm font-medium text-gray-800">Motivo (opcional)</label>
          <textarea id="motivo" name="motivo" rows="4" placeholder="Opcional: Cuéntanos el motivo" class="w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#264193] focus:border-[#264193] resize-none"></textarea>
        </div>

        <div class="flex items-start gap-2">
          <input id="confirm" name="confirm" type="checkbox" required class="mt-0.5 h-4 w-4 rounded border-gray-300 text-[#264193] focus:ring-[#264193]" />
          <label for="confirm" class="text-xs text-gray-600">Confirmo que deseo eliminar mi cuenta y entiendo que esta acción no se puede deshacer.</label>
        </div>

        <button type="submit" class="w-full inline-flex justify-center items-center gap-2 rounded-md bg-[#264193] hover:bg-[#1d325f] text-white text-sm font-medium px-5 py-2.5 transition-colors focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#264193]">
          <span>Enviar solicitud</span>
        </button>

        <p id="form-status" class="text-sm font-medium"></p>
      </form>

      <div class="mt-10 text-xs text-gray-500 leading-relaxed space-y-3">
        <p>Si no puedes acceder al correo registrado, escribe a <a href="mailto:soporte@novicompu.com" class="underline decoration-dotted hover:text-gray-700">soporte@novicompu.com</a> indicando asunto: <strong>"Eliminar cuenta - sin acceso"</strong>.</p>
        <p>Al enviar este formulario declaras que eres el titular legítimo de la cuenta y aceptas la eliminación irreversible de los datos no sujetos a retención.</p>
        <p>Última actualización de esta política: <time datetime="2025-09-24">24 Sep 2025</time>.</p>
      </div>
    </div>
  </section>
</Layout>

<!--
  Netlify Forms:
  - data-netlify="true" enables build-time parsing.
  - form-name hidden input required.
  - honeypot: bot-field (hidden) reduces spam.
  - On success Netlify will redirect to /eliminar-cuenta-exito if page exists.
  Optional: Add a success page or use data-netlify-recaptcha for ReCAPTCHA.
  Progressive enhancement JS (e.g., fetch) can be re-added later if needed.
-->
