---
// Navbar component simplified: only logo + descargar button (no responsive menu)
---

<nav class="fixed top-0 start-0 end-0 z-999 transition-all duration-500 py-3 lg:py-4 items-center [&.is-sticky]:bg-white [&.is-sticky]:shadow-md bg-white" id="navbar">
  <div class="max-w-screen-xl mx-auto px-4 lg:px-6">
    <div class="flex items-center justify-between gap-4">
      <a href="/" class="flex items-center" aria-label="Inicio Novicompu">
        <img src="/src/assets/images/brand/novicompu.png" class="w-32 sm:w-36 md:w-40" alt="Novicompu Logo">
      </a>

      <a href="https://play.google.com/store/apps" target="_blank" rel="noopener" class="inline-flex items-center gap-2 rounded-md text-sm font-medium text-white bg-[#264193] hover:bg-[#1d325f] transition-colors px-4 py-2 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#264193]" aria-label="Descargar en Google Play">
        <i data-lucide="download-cloud" class="h-4 w-4"></i>
        <span>Descargar</span>
      </a>
    </div>
  </div>
</nav>

<script>
import { createIcons, DownloadCloud } from 'lucide';

function initNavbar() {
  const navbar = document.getElementById('navbar');

  function handleScroll() {
    if (navbar && window.scrollY > 50) {
      navbar.classList.add('is-sticky');
    } else {
      navbar?.classList.remove('is-sticky');
    }
  }

  window.addEventListener('scroll', handleScroll);

  createIcons({
    icons: { DownloadCloud }
  });
}

if (typeof window !== 'undefined') initNavbar();
document.addEventListener('astro:after-swap', initNavbar);
</script>

<style>
/* Keep only minimal sticky transition behavior */
#navbar.is-sticky {
  backdrop-filter: blur(4px);
}

@media (max-width:640px){
  #navbar img { max-width:120px; }
}
</style>

